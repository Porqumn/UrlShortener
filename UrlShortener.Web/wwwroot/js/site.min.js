$(function(){$("#short-btn").click(function(){$("#outputInfo").empty();let n=document.getElementById("url").value.trim(),t=JSON.stringify({originalLink:n});$.ajax({url:"/api/url/get",data:t,type:"POST",contentType:"application/json; charset=utf-8","async":!1,success:function(n){var t=window.location.origin+"/"+n.shortLink,u=$("<a>",{"class":"mr-2",href:t,text:t,id:"short-link"}),f=$("<label>",{"class":"mr-2",text:"Short link:"}),e=$("<button>",{"class":"btn btn-primary btn-sm",text:"Copy short link",id:"copy-link"}),i=$("<div>",{"class":"form-inline mb-2"});i.append(f).append(u).append(e);var o=$("<label>",{"class":"mr-2",text:"Original link:"}),s=$("<a>",{"class":"mr-2",href:n.originalLink,text:n.originalLink}),r=$("<div>",{"class":"form-inline"});r.append(o).append(s);$("#outputInfo").append(i).append(r)},error:function(){$("#outputInfo").append("<p>The URL is not valid, make sure the URL you tried to shorten is correct.<\/p>").append("<p>Possible errors:<\/p>").append("<ul><li>Check if the domain is correct<\/li><li>Check if the site is online<\/li><li>Check the length of the url is not too small<\/li><li>Check the address bars and punctuation<\/li> <li>The URL may have been blocked<\/li><li>The url may have been reported<\/li><\/ul>")}})});$(document).on("click","#copy-link",function(){var n=$("<input>");$("body").append(n);n.val(document.getElementById("short-link").href).select();document.execCommand("copy");n.remove()})});